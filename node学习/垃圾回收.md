## 在node中内存 分为 新生代内存和老生代内存

## 新生代内存
* 分成两部分from和to, 垃圾检测将 from中的存活对象复制到to中, 然后清空from空间, 交换from和to空间
* 存活对象少, 垃圾回收影响小
* 经过回收后还存活或to使用空间大于25%, 此时会将该对象分配到老生代内存中, 这种现象成为`晋升`

## 老生代内存: 
* 分为标记阶段和清除阶段, 标记阶段遍历所有对象, 标记所有存活对象； 清除阶段, 删除所有未标记对象
* 存活对象多, 垃圾回收影响大
* 某个空间没有分块, 对象超过一定限制, 不能保证新生代对象移到老生代中
* 在清除死亡对象时, 会产生内存碎片；为解决这个问题,在垃圾回收时, 会将存活对象移至一侧

## 在清理垃圾时, 会暂停主线程


## 内存 
* 全局变量和闭包 会存放在 老生代内存
* 使用重新赋值解绑对象
* 堆内存 和 堆外内存(buffer对象生成)
* 回收机制影响堆内存

# 内存泄漏
* 慎用内存当缓存 => 使用redis缓存数据
* 队列消费不及时 => rdkafka
* 作用域未释放 